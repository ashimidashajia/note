你的电脑接网线, 然后通过wifi共享电脑的网络, iPhone连接电脑共享出来的无线网, 就可以在电脑上抓包了

分析百度网盘下载


交互：
百度网盘，打开状态下，修改了密码。下载终止，提示密码错误。



http.request.method == “POST” 


2 Reassembled TCP Segments (1012 bytes): #29902(921), #29903(91)

如果只想过滤http包可以用如下过滤条件：
1 http&&!udp， 为什么要这样？http基于tcp，已经过滤掉了udp了？其实则不然，没有人规定http
一定要基于tcp，ssdp就是在udp上传输http。而http&&!udp 后半部分恰恰是要把ssdp过滤掉
2 对于使用http传输的一个大文件，中间有很多的PDU，只有到发送完成的时候，会组织一个完整的
HTTP包，叫做 Reassembled TCP 。其实最后一个包本身只是文件的最后数据，这里经过了重组。

tcp还是udp包头都没有字段表明负载是http，wirshark是智能分析的。比如检测到http/1.1字段。
对于c/s通讯，建立socket的时候会指定协议，以后就用这个协议解析tcp负载，没有必要在每个tcp
包头加协议字段的。


2 要搜索包里面的内容，选择 Packet bytes

3 执行sudo wireshark 提示：
Running as user "root" and group "root".
This could be dangerous.

If you're running Wireshark this way in order to perform live capture, you may want to be aware that there is a better way documented at
/usr/share/doc/wireshark-common/README.Debian
 
查看这个文件：

4 抓取小米盒子epg 的json数据，在wireshark中看，并且Copy - Bytes -Printable text only 这样汉字信息取不到，应该先拷贝出：
http://media.cntv.duokanbox.com/tvservice/getmediadetail2?mediaid=976146&pageno=0&pagesize=0&orderby=0&fee=1&deviceid=1353a94f1f7d634a62de36fd29a42729&apiver=1.8&ver=4.2.2.946&codever=13&ptf=205&ts=-1481390516&nonce=796510208&opaque=509ac7914d6e20336be684b5aa8b22b25f42b537
然后在浏览器中执行，这样就得到了那个json文件。这个方法好！！！



sudo groupadd wireshark
sudo adduser  gaojie wireshark

1台pc装apache浏览器播放视频无法抓包。但可以在虚拟机中抓。即ubuntu+apache，然后虚拟机winxp+firefox
可以抓，选择lo即可

在xp安装完1.11.3 后出现 Qt版和Gtk+版，样式不同。
ubuntu12.04 软件中心提供gtk+版本。

如果是gzip的，wireshark会解压缩。

sudo dpkg-reconfigure wireshark-common
press the right arrow and enter for yes
sudo chmod +x /usr/bin/dumpcap
you should now be able to run it without root




 


