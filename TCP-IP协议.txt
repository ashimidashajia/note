逻辑链路层

wireshark看mac帧：
目的mac+源mac+类型
类型：
0806 ARP
0800 IP

------------
关于“物理地址逐跳而变，逻辑地址保持不变”
开始我认为，应该是目录逻辑地址保持不变。后来毅晖说，数据包回来的时候，就是源逻辑地址
保持不变。
20140110 徐松：在真正的互联网上，ip地址唯一不变，没有nat，这句话是完全正确的。

NAT穿越
使用upnp IGD 自动做端口映射，而不用去设置路由器。p2p软件会这样去做。可以关闭igd
功能。
关于协议里面表示包的长度的字段很有讲究，分为短长度和长长度。第一bit为0，表示短包，能够
标识0-127字节，为1标识长长度，例如标识0-32768字节。

---
xusong
20140114
ip头20字节，udp头8字节。ip包最大65535，udp包最大65535-28字节。

在mac层，1个包的大小有限制，（可能由路由器，交换机限制），65536的包会拆分成多个。
如果发送大包，其中1个拆分小包出错，整个大包会重传。如果发送小包，在mac层包大小之内，则不会。

 sockfd = socket(AF_INET, SOCK_DGRAM, 0);//创建UDP socket
 //On success, these calls return the number of characters sent.  
 //On error, -1 is returned, and errno is set appropriately.
 sendto(sockfd, sendBuf, len, 0, srvAddr, addlen);

len的最大值为2^16-20(IP头)-8(UDP头) = 65507字节，大于这个数，sendto返回-1
error的值为90
 #define EMSGSIZE        90      /* Message too long */  


从PC上选择一个文件，然后上传到板子上 可以参考GoodReader

用dvb-c工程机推送udp ts 流到192.168.1.87工作机，wireshark竟然识别了UDP中的TS包，为何？


